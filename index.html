<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>JRakNet by MarfGamer</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>JRakNet</h1>
        <h2>A protocol implementation of the network library RakNet</h2>
        <a href="https://github.com/MarfGamer/JRakNet" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a id="jraknet" class="anchor" href="#jraknet" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>JRakNet</h1>

<p>JRakNet is a networking library for Java which implements the UDP based protocol <a href="https://github.com/OculusVR/RakNet">RakNet</a>.
This library was meant to be used for Minecraft: Pocket Edition servers and clients, but can still be used to create game servers and clients for other video games with ease.</p>

<table>
<thead>
<tr>
<th>Protocol Info</th>
<th align="center">Version</th>
</tr>
</thead>
<tbody>
<tr>
<td>Current Protocol</td>
<td align="center">8</td>
</tr>
<tr>
<td>Supported Server Protocol</td>
<td align="center">8</td>
</tr>
<tr>
<td>Supported Client Protocol</td>
<td align="center">8</td>
</tr>
</tbody>
</table>

<h1>
<a id="how-to-create-a-server" class="anchor" href="#how-to-create-a-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to create a server</h1>

<p>Creating a server in JRakNet is extremely easy, all it takes to create one can be seen right here</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Create server and set listener</span>
<span class="pl-smi">RakNetServer</span> server <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">RakNetServer</span>(<span class="pl-c1">19132</span>, <span class="pl-c1">10</span>, <span class="pl-k">new</span> <span class="pl-smi">MCPEIdentifier</span>(<span class="pl-s"><span class="pl-pds">"</span>JRakNet Latency Test<span class="pl-pds">"</span></span>, <span class="pl-c1">91</span>, <span class="pl-s"><span class="pl-pds">"</span>0.16.0<span class="pl-pds">"</span></span>, <span class="pl-c1">0</span>,
        <span class="pl-c1">10</span>, <span class="pl-smi">System</span><span class="pl-k">.</span>currentTimeMillis(), <span class="pl-s"><span class="pl-pds">"</span>New World<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Survival<span class="pl-pds">"</span></span>));
server<span class="pl-k">.</span>setListener(<span class="pl-k">new</span> <span class="pl-smi">RakNetServerListener</span>() {
    <span class="pl-c">// Client connected</span>
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onClientConnect</span>(<span class="pl-smi">RakNetClientSession</span> <span class="pl-v">session</span>) {
        <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Client from address <span class="pl-pds">"</span></span> <span class="pl-k">+</span> session<span class="pl-k">.</span>getAddress() <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> has connected to the server<span class="pl-pds">"</span></span>);
    }

    <span class="pl-c">// Client disconnected</span>
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onClientDisconnect</span>(<span class="pl-smi">RakNetClientSession</span> <span class="pl-v">session</span>, <span class="pl-smi">String</span> <span class="pl-v">reason</span>) {
        <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Client from address <span class="pl-pds">"</span></span> <span class="pl-k">+</span> session<span class="pl-k">.</span>getAddress()
                <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> has disconnected from the server for the reason <span class="pl-cce">\"</span><span class="pl-pds">"</span></span> <span class="pl-k">+</span> reason <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\"</span><span class="pl-pds">"</span></span>);
    }

    <span class="pl-c">// Packet received</span>
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">handlePacket</span>(<span class="pl-smi">RakNetClientSession</span> <span class="pl-v">session</span>, <span class="pl-smi">RakNetPacket</span> <span class="pl-v">packet</span>, <span class="pl-k">int</span> <span class="pl-v">channel</span>) {
        <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Client from address <span class="pl-pds">"</span></span> <span class="pl-k">+</span> session<span class="pl-k">.</span>getAddress() <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> sent packet with ID 0x<span class="pl-pds">"</span></span>
                <span class="pl-k">+</span> <span class="pl-smi">Integer</span><span class="pl-k">.</span>toHexString(packet<span class="pl-k">.</span>getId())<span class="pl-k">.</span>toUpperCase() <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> on channel <span class="pl-pds">"</span></span> <span class="pl-k">+</span> channel);
    }
});

<span class="pl-c">// Start server</span>
server<span class="pl-k">.</span>start();</pre></div>

<p>This is a simple RakNet server that can be tested through Minecraft: Pocket Edition by going to the "Friends tab" where the server should show up. Once the server pops up, you should be able to click on it to trigger the connection and packet hooks.</p>

<h1>
<a id="how-to-create-a-client" class="anchor" href="#how-to-create-a-client" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to create a client</h1>

<p>Creating a client in JRakNet is also very easy. The code required to create a client can be seen here</p>

<div class="highlight highlight-source-java"><pre><span class="pl-c">// Server address and port</span>
<span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-smi">String</span> <span class="pl-c1">SERVER_ADDRESS</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>sg.lbsg.net<span class="pl-pds">"</span></span>;
<span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">final</span> <span class="pl-k">int</span> <span class="pl-c1">SERVER_PORT</span> <span class="pl-k">=</span> <span class="pl-c1">19132</span>;

<span class="pl-c">// Create client and set listener</span>
<span class="pl-smi">RakNetClient</span> client <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-smi">RakNetClient</span>();
client<span class="pl-k">.</span>setListener(<span class="pl-k">new</span> <span class="pl-smi">RakNetClientListener</span>() {
    <span class="pl-c">// Server connected</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onConnect</span>(<span class="pl-smi">RakNetServerSession</span> <span class="pl-v">session</span>) {
        <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Successfully connected to server with address <span class="pl-pds">"</span></span> <span class="pl-k">+</span> session<span class="pl-k">.</span>getAddress());
        client<span class="pl-k">.</span>disconnect();
    }

    <span class="pl-c">// Server disconnected</span>
    <span class="pl-k">@Override</span>
    <span class="pl-k">public</span> <span class="pl-k">void</span> <span class="pl-en">onDisconnect</span>(<span class="pl-smi">RakNetServerSession</span> <span class="pl-v">session</span>, <span class="pl-smi">String</span> <span class="pl-v">reason</span>) {
        <span class="pl-smi">System</span><span class="pl-k">.</span>out<span class="pl-k">.</span>println(<span class="pl-s"><span class="pl-pds">"</span>Sucessfully disconnected from server with address <span class="pl-pds">"</span></span> <span class="pl-k">+</span> session<span class="pl-k">.</span>getAddress()
            <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span> for the reason <span class="pl-cce">\"</span><span class="pl-pds">"</span></span> <span class="pl-k">+</span> reason <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\"</span><span class="pl-pds">"</span></span>);
        <span class="pl-smi">System</span><span class="pl-k">.</span>exit(<span class="pl-c1">0</span>);
    }
});

<span class="pl-c">// Connect to server</span>
client<span class="pl-k">.</span>connect(<span class="pl-c1">SERVER_ADDRESS</span>, <span class="pl-c1">SERVER_PORT</span>);</pre></div>

<p>A simple RakNet client, this example attempts to connect to the main <a href="http://lbsg.net/">LBSG</a> server. When it is connected, it closes the connection and shuts down.</p>

<h1>
<a id="how-to-contact" class="anchor" href="#how-to-contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to contact</h1>

<p>This project has a twitter page, <a href="https://twitter.com/JRakNet">@JRakNet</a>. There all github commits and releases are tweeted. There is also a G-Mail account, <a href="https://gmail.com">jraknet@gmail.com</a> for anything related specifically to JRakNet :)</p>

<h1>
<a id="notes" class="anchor" href="#notes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Notes</h1>

<p>Some DataPacket ID's are reserved by RakNet. Because of this, it is recommended that all game packets not relating to RakNet begin with their own special ID, Minecraft: Pocket Edition does this (It's header byte is currently 0xFE). It is also recommended that game servers and game clients do not use raw packets at all.</p>

<p><br></p>

<p><a href="http://marfgamer.net"><img src="http://i.imgur.com/LhUiCjL.png" width="135" height="145"></a> <a href="http://github.com/MarfGamer/JRakNet"><img src="http://i.imgur.com/oDsb9ze.png" width="135" height="145" hspace="50"></a> <a href="https://github.com/OculusVR/RakNet"><img src="http://imgur.com/9p1asD8.png" width="135" height="145"></a> <a href="https://oculus.com"><img src="https://www1.oculus.com/wp-content/uploads/2013/03/oculus_vr_logo_small.png"></a></p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/MarfGamer/JRakNet/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/MarfGamer/JRakNet/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/MarfGamer/JRakNet"></a> is maintained by <a href="https://github.com/MarfGamer">MarfGamer</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
